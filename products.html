<!DOCTYPE html>
<html>

<head>
	<link href="StyleSheet.css" rel="stylesheet" type="text/css">
	<link href="StyleSheet.css" rel="stylesheet" type="text/css">
	<!-- Font Awesome 5.15.1 CSS -->
	<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css'>
	<title>Ty The Garden Guy</title>
</head>

<!-- you may want to handle this as a series of HTML pages -->
<body>
	<header id="header">
	<div id="header-content">
	<div class="header">
		<div class="tabs">
		    <ul class="nav">
                <li class= "tab"><a href="index.html">Home</a></li>
                <li class="tab"><a href="services.html">Services</a></li>
				<li class="tab active"><a href="products.html">Products</a></li>
				<li class="tab"><a href="contact.html">Contact</a></li>
            </ul>
		</div>
		
		<!-- search bar may not work -->
		<div class="search-bar">
			<input type="text" placeholder="Search...">
			<button>Go</button>
		</div>
		</div>
		</header>
	<!-- Add the shopping cart icon -->
	<i class="fa fa-shopping-cart" aria-hidden="true" data-total="0"></i>

	<!-- Add the notification number -->
	<span class="notification-number">0</span>
	</div>


<head>
    <title>Product Tiles</title>
</head>
<body>
    <div class="product-grid">
        <div class="product-tile">
            <img src="images/1.jpg" alt="Comfrey, Bocking-14">
            <div class="description">
                <h3>Comfrey, Bocking-14</h3>
                <p>Bocking 14 Russian Comfrey is a well-known dynamic accumulator grown in USDA zones 3-9. Comfrey is great to use as mulch, chicken feed, or as a fertilizer for other plants. It has a long taproot that helps bring minerals to the earths surface for other plants to use. Russian comfrey is the best companion plant for many trees or shrubs and is a great addition to permaculture food forests.

<br><br>What makes Bocking-14 Russian Comfrey unique?
<br>It doesn't produce seeds! You don't have to worry about it spreading and taking over your garden.
<br><br>
Listing is for 4, 8 or 12 - 1 inch roots
</p>

<div id="smart-button-container">
      <div style="text-align: center;">
        <div style="margin-bottom: 1.25rem;">
          <p>Bocking-14 russian comfrey is a seedless comfrey variety. Cuttings are sold as 1 inch roots. </p>
          <select id="item-options"><option value="4 cuttings" price="20.00">4 cuttings - 20.00 USD</option><option value="8 cuttings" price="36.00">8 cuttings - 36.00 USD</option><option value="12 cuttings" price="50.00">12 cuttings - 50.00 USD</option></select>
          <select style="visibility: hidden" id="quantitySelect"></select>
        </div>
      <div id="paypal-button-container"></div>
      </div>
    </div>
    <script src="https://www.paypal.com/sdk/js?client-id=sb&enable-funding=venmo&currency=USD" data-sdk-integration-source="button-factory"></script>
    <script>
      function initPayPalButton() {
        var shipping = 7.50;
        var itemOptions = document.querySelector("#smart-button-container #item-options");
    var quantity = parseInt();
    var quantitySelect = document.querySelector("#smart-button-container #quantitySelect");
    if (!isNaN(quantity)) {
      quantitySelect.style.visibility = "visible";
    }
    var orderDescription = 'Bocking-14 russian comfrey is a seedless comfrey variety. Cuttings are sold as 1 inch roots. ';
    if(orderDescription === '') {
      orderDescription = 'Item';
    }
    paypal.Buttons({
      style: {
        shape: 'rect',
        color: 'black',
        layout: 'vertical',
        label: 'paypal',
        
      },
      createOrder: function(data, actions) {
        var selectedItemDescription = itemOptions.options[itemOptions.selectedIndex].value;
        var selectedItemPrice = parseFloat(itemOptions.options[itemOptions.selectedIndex].getAttribute("price"));
        var tax = (5 === 0 || false) ? 0 : (selectedItemPrice * (parseFloat(5)/100));
        if(quantitySelect.options.length > 0) {
          quantity = parseInt(quantitySelect.options[quantitySelect.selectedIndex].value);
        } else {
          quantity = 1;
        }

        tax *= quantity;
        tax = Math.round(tax * 100) / 100;
        var priceTotal = quantity * selectedItemPrice + parseFloat(shipping) + tax;
        priceTotal = Math.round(priceTotal * 100) / 100;
        var itemTotalValue = Math.round((selectedItemPrice * quantity) * 100) / 100;

        return actions.order.create({
          purchase_units: [{
            description: orderDescription,
            amount: {
              currency_code: 'USD',
              value: priceTotal,
              breakdown: {
                item_total: {
                  currency_code: 'USD',
                  value: itemTotalValue,
                },
                shipping: {
                  currency_code: 'USD',
                  value: shipping,
                },
                tax_total: {
                  currency_code: 'USD',
                  value: tax,
                }
              }
            },
            items: [{
              name: selectedItemDescription,
              unit_amount: {
                currency_code: 'USD',
                value: selectedItemPrice,
              },
              quantity: quantity
            }]
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(orderData) {
          
          // Full available details
          console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));

          // Show a success message within this page, e.g.
          const element = document.getElementById('paypal-button-container');
          element.innerHTML = '';
          element.innerHTML = '<h3>Thank you for your payment!</h3>';

          // Or go to another URL:  actions.redirect('thank_you.html');

        });
      },
      onError: function(err) {
        console.log(err);
      },
    }).render('#paypal-button-container');
  }
  initPayPalButton();
    </script>
			
			</div>
        </div>
        <div class="product-tile">
            <img src="images/7.webp" alt="Lilyturf, Liriope muscari">
            <div class="description">
                <h3>Lilyturf, Liriope muscari</h3>
                <p>Listing is for 10 single plants<br><br>Lily turf, Liriope Muscari makes an excellent ground cover, sprawling under shady trees or along pathways. It is a clumping variety known to stay put (it won’t invade into unwanted areas). They are pest resistant, disease resistant, and cold hardy down to zone 5! Puts on a show in late summer through fall of lavender tail-like blooms and even thrives in the shade.</p>
            <form action="/add-to-cart" method="post">
				<input type="hidden" name="product-id" value="1">
				<button type="submit" class="add-to-cart-button">Add to Cart</button>
			<script>
				// Get the shopping cart icon and notification number
				let shoppingCartIcon = document.querySelector('i.fa-shopping-cart');
				let notificationNumber = document.querySelector('span.notification-number');

				// Listen for form submissions
				document.addEventListener('submit', function(event) {
					// Check if the form is the add-to-cart form
					if (event.target.classList.contains('add-to-cart-form')) {
						event.preventDefault(); // Prevent the form from being submitted

						// Get the price of the product from the data-price attribute
						let price = event.target.querySelector('input[name="price"]').getAttribute('data-price');

						// Increment the notification number and total in the shopping cart icon
						let currentNumber = parseInt(notificationNumber.textContent);
						let currentTotal = parseFloat(shoppingCartIcon.getAttribute('data-total'));
						notificationNumber.textContent = currentNumber + 1;
						shoppingCartIcon.setAttribute('data-total', currentTotal + parseFloat(price));

						// Add a bounce animation to the shopping cart icon
						shoppingCartIcon.classList.add('bounce');
						setTimeout(function() {
							shoppingCartIcon.classList.remove('bounce');
						}, 500);
							}
						});
					</script>
			
			</form>
			</div>
			
        </div>
        <div class="product-tile">
            <img src="images/3.jpg" alt="Product 3">
            <div class="description">
                <h3>Product 3</h3>
                <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In hac habitasse platea dictumst. Nullam pulvinar dolor id metus ultricies, in ultricies sem dictum. Sed efficitur, ipsum eu gravida iaculis, lectus orci convallis est, quis tincidunt arcu velit non velit. Proin dictum non diam a tincidunt. Vivamus rutrum, tellus nec placerat tristique, lorem diam dignissim arcu, a hendrerit purus odio eu quam. Fusce blandit efficitur mauris, sed posuere nunc vehicula nec. Integer et diam eu laca.</p>
			<!-- Add the add-to-cart form -->
			<form action="/add-to-cart" method="post">
				<input type="hidden" name="product-id" value="1">
				<button type="submit" class="add-to-cart-button">Add to Cart</button>
			<script>
				// Get the shopping cart icon and notification number
				let shoppingCartIcon = document.querySelector('i.fa-shopping-cart');
				let notificationNumber = document.querySelector('span.notification-number');

				// Listen for form submissions
				document.addEventListener('submit', function(event) {
					// Check if the form is the add-to-cart form
					if (event.target.classList.contains('add-to-cart-form')) {
						event.preventDefault(); // Prevent the form from being submitted

						// Get the price of the product from the data-price attribute
						let price = event.target.querySelector('input[name="price"]').getAttribute('data-price');

						// Increment the notification number and total in the shopping cart icon
						let currentNumber = parseInt(notificationNumber.textContent);
						let currentTotal = parseFloat(shoppingCartIcon.getAttribute('data-total'));
						notificationNumber.textContent = currentNumber + 1;
						shoppingCartIcon.setAttribute('data-total', currentTotal + parseFloat(price));

						// Add a bounce animation to the shopping cart icon
						shoppingCartIcon.classList.add('bounce');
						setTimeout(function() {
							shoppingCartIcon.classList.remove('bounce');
						}, 500);
							}
						});
					</script>
			</form>
			
			</div>
			
			
						
        </div>
		
	


</body>
<!--footer-->
<footer class="footer">
    <!-- HTML for the social media buttons -->
	<div id="socialbuttons">
	  <a href="https://www.instagram.com/tythegardenguy/" target="_blank" class="instagram">
		<i class="fab fa-instagram"></i>
	  </a>
	  <a href="https://www.tiktok.com/@tythegardenguy" target="_blank" class="tiktok">
		<i class="fab fa-tiktok"></i>
	  </a>
	  <a href="https://discord.com/invite/EWE4DyJZ8z" target="_blank" class="discord">
		<i class="fab fa-discord"></i>
	  </a>
	</div>

    <ul class="nav">
                <li class= "tab"><a href="index.html">Home</a></li>
                <li class="tab"><a href="services.html">Services</a></li>
				<li class="tab active"><a href="products.html">Products</a></li>
				<li class="tab"><a href="contact.html">Contact</a></li>
            </ul>
    <p>&copy;2023 Ty the Garden Guy | All Rights Reserved</p>
	<!-- Privacy policy link -->
	<a href="https://www.privacypolicytemplate.net/live.php?token=QTzwqr5AEFlSb2psLfWgBDQtALKJqX3D" target="_blank" id="privacy-policy-link">Privacy Policy</a>
</footer>
</html>